name = "votepulse-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "survey-db"
database_id = "placeholder-replace-with-actual-id"

# KV Namespace
[[kv_namespaces]]
binding = "KV"
id = "placeholder-replace-with-actual-id"

# ============================================
# Development
# ============================================
[env.dev.vars]
ENVIRONMENT = "development"
ALLOWED_ORIGINS = "http://localhost:5173"

# ============================================
# Production
# ============================================
[env.production.vars]
ENVIRONMENT = "production"
ALLOWED_ORIGINS = "https://votepulse.pages.dev"

[env.production]
name = "votepulse-api"

[[env.production.d1_databases]]
binding = "DB"
database_name = "survey-db"
database_id = "placeholder-replace-with-actual-id"

[[env.production.kv_namespaces]]
binding = "KV"
id = "placeholder-replace-with-actual-id"

# Local dev settings
[dev]
port = 8787

# Secrets (set via: wrangler secret put CLERK_SECRET_KEY)
# - CLERK_SECRET_KEY
